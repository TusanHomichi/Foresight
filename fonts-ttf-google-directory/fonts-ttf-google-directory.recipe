#
# Copyright (c) 2011 The Foresight Linux Project
# This file is distributed under the terms of the MIT License.
# A copy is available at http://www.rpath.com/permanent/mit-license.html
#
import datetime
class FontsTTFGoogleDirectory(AutoPackageRecipe):
    name = 'fonts-ttf-google-directory'
    version = datetime.date.today().strftime("%Y.%m.%d")
    buildRequires = ['mkfontdir:runtime']


    def setup(r):
        r.addMercurialSnapshot('https://googlefontdirectory.googlecode.com/hg/')

        # arrau bellow built with ...
        # ( cd  ~/conary/build/fonts-google-fontdirectory-ttf/--tip/ ; find . -maxdepth 1 -type d | egrep -v '(tools|designers)' |  tr '\n' ,| sed -e 's,\./,,g' -e "s|,|\'\,)n\t\'|g")
        # XXX automate

        for d in [ 'bangers',
                   'shadowsintolight',
                   'buda',
                   'modernantiqua',
                   'siamreap',
                   'artifika',
                   'sortsmillgoudy',
                   'copse',
                   'caudex',
                   'monofett',
                   'miltonian',
                   'luckiestguy',
                   'felltypes',
                   'bentham',
                   'holtwoodonesc',
                   'kameron',
                   'josefinslab',
                   'kaffeesatz',
                   'orbitron',
                   'quattrocentosans',
                   'nunito',
                   'coda',
                   'ptsans',
                   'overtherainbow',
                   'nixieone',
                   'zeyada',
                   'wallpoet',
                   'terminaldosislight',
                   'bayon',
                   'giveyouglory',
                   'lekton',
                   'specialelite',
                   'sueellenfrancisco',
                   'jura',
                   'meddon',
                   'anonymouspro',
                   'ezrasil',
                   'novaoval',
                   'leaguescript',
                   'gravitasone',
                   'battambang',
                   'indieflower',
                   'kenia',
                   'droidarabickufi',
                   'droidserifthai',
                   'nanumgothic',
                   'thegirlnextdoor',
                   'tangerine',
                   'syncopate',
                   'novacut',
                   'dangrek',
                   'gfsneohellenic',
                   'michroma',
                   'smythe',
                   'josefin',
                   'bevan',
                   'ultra',
                   'cabinsketch',
                   'permanentmarker',
                   'judson',
                   'mako',
                   'justmeagaindownhere',
                   'nothingyoucoulddo',
                   'istok',
                   'taprom',
                   'cherrycreamsoda',
                   'droidarabicnaskh',
                   'droidsansthai',
                   'khmer',
                   'podkova',
                   'lobstertwo',
                   'asset',
                   'bigshotone',
                   'irishgrover',
                   'reeniebeanie',
                   'siemreap',
                   'moul',
                   'sniglet',
                   'moulpali',
                   'waitingforthesunrise',
                   'oldstandard',
                   'cabin',
                   'gfsdidot',
                   'dawningofanewday',
                   'maidenorange',
                   'pecita',
                   'comingsoon',
                   'cardo',
                   'freehand',
                   'molengo',
                   'loveyalikeasister',
                   'josefinsans',
                   'raleway',
                   'geo',
                   'suwannaphum',
                   'fontdinerswanky',
                   'sunshiney',
                   'unifrakturmaguntia',
                   'philosopher',
                   'crimson',
                   'play',
                   'dancingscript',
                   'bokor',
                   'crushed',
                   'jsmath',
                   'corben',
                   'allerta',
                   'vollkorn',
                   'nanumbrushscript',
                   'lora',
                   'unifrakturcook',
                   'brawler',
                   'architectsdaughter',
                   'anton',
                   'content',
                   'nanummyeongjo',
                   'hanuman',
                   'radley',
                   'sixcaps',
                   'limelight',
                   'schoolbell',
                   'gentium',
                   'coveredbyyourgrace',
                   'neucha',
                   'walterturncoat',
                   'novascript',
                   'medievalsharp',
                   'thabit',
                   'ruslandisplay',
                   'neuton',
                   'cuprum',
                   'droid',
                   'preahvihear',
                   'francoisone',
                   'shanti',
                   'lato',
                   'sigmarone',
                   'irishgrowler',
                   'gloriahallelujah',
                   'didactgothic',
                   'novamono',
                   'cedarvillecursive',
                   'aclonica',
                   'paytoneone',
                   'chenla',
                   'lobster',
                   'varela',
                   'miama',
                   'craftygirls',
                   'opensans',
                   'kranky',
                   'nobile',
                   'lovedbytheking',
                   'unkempt',
                   'swankyandmoomoo',
                   'gruppo',
                   'metrophobic',
                   'angkor',
                   'playfairdisplay',
                   'amaranth',
                   'inconsolata',
                   'kristi',
                   'quattrocento',
                   'pacifico',
                   'megrim',
                   'goudybookletter1911',
                   'carterone',
                   'calligraffiti',
                   'kreon',
                   'mountainsofchristmas',
                   'tenorsans',
                   'odormeanchey',
                   'annieuseyourtelescope',
                   'ptserif',
                   'candal',
                   'novasquare',
                   'puritan',
                   'merriweather',
                   'cantarell',
                   'vibur',
                   'expletussans',
                   'arimo',
                   'astloch',
                   'allan',
                   'novaround',
                   'rocksalt',
                   'mavenpro',
                   'novaslim',
                   'bowlbyonesc',
                   'nanumpenscript',
                   'nanumgothiccoding',
                   'labelleaurore',
                   'damion',
                   'slackey',
                   'hammersmithone',
                   'newscycle',
                   'cousine',
                   'novaflat',
                   'wireone',
                   'justanotherhand',
                   'gentiumbasic',
                   'homemadeapple',
                   'muli',
                   'andikabasic',
                   'ubuntu',
                   'redressed',
                   'tinos',
                   'arvo',
                   'chewy',
                   'vt323',
                   'metal',
                   'koulen',
                   'goblinone',
                   'oswald',
                   'rokkitt',
                   'patrickhand',
                   'ebgaramond',]:
            endName = 'font-truetype-' + d
            r.Install(d + '/*.ttf',
                      '%(datadir)s/fonts/truetype/',
                      mode = 0644, 
                      package = endName)

            docdir = '%(docdir)s/' + endName + '/'
            r.Install(d + '/{METADATA,*.txt}', docdir,
                      package = endName + ':supdoc',
                      mode = 0644)
        # we installed Docs manually above 
        del r.AutoDoc
